<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/base-sub :: layoutSub(~{::title}, ~{::link}, ~{::main#container}, ~{::script})}">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시판</title>
    <!-- <link rel="stylesheet" href="../../static/resource/css/board/board.css" th:href="@{/resource/css/board/board.css}"> -->
    <link rel="stylesheet" href="../../static/resource/css/board/board_write.css" th:href="@{/resource/css/board/board_write.css}">
    
    <th:block th:replace="${link}"></th:block>
  <style>
    .board-wrap .board-body{
      display:grid;
      grid-template-columns: 100px 300px;
    }

    .ck-editor__editable {height: 500px;}
    .ck-content {font-size: 12px;}
  </style>
</head>

<body>
  <div id="wrapper">

    <!-- 헤더 -->
    <header id="header">
      <!-- 탑 메뉴 -->
      <div class="header__menu-top">
        <span class="header__my-menu"><a href="#">로그아웃</a></span>
        <span class="header__my-menu"><a href="#">마이페이지</a></span>
        <span class="header__my-menu"><a href="#">즐겨찾기</a></span>
      </div>

      <!-- 베너 -->
      <div class="header__banner">
        <!-- 메인 로고 -->
        <div class="header__main-logo">
          <a href="#">
            <h1 class="header__main-title">Heal-lo</h1>
            <p class="header__sub-title">:Healthy location</p>
          </a>
        </div>
        <div class="header__sitemenu" id="siteMenuContain">
          <div class="header__sitemenu-info" id="sitemenuInfo">게시판</div> <!-- 스크립트용 -->
          <a href="#"><i class="fa-solid fa-location-dot header__site-icon"></i></a>
          <a href="#"><i class="fa-solid fa-book-open header__site-icon"></i></a>
          <a href="#"><i class="fa-solid fa-calendar-days header__site-icon"></i></a>
          <a href="#"><i class="fa-solid fa-heart header__site-icon"></i></a>
        </div>
      </div>
    </header>
      
    <!-- 메인 컨텐츠 -->
    <main id="container">
      <aside class="title">
        <div class="title__list">
          <a  th:href="@{/boards/?category=BD001}">자유게시판</a>
          <a  th:href="@{/boards/?category=BD002}">정보공유</a>
          <a  th:href="@{/boards/?category=BD003}">추천글</a>
          <a  th:href="@{/boards/?category=BD004}">문의하기</a>
        </div>
      </aside>

      <section class="board_write">
        <div class="board_title">
          <h2 class="title__main">자유게시판</h2>
        </div>

        <div class="board_content">

          <form id="detailForm" action="" th:action th:object="${form}" class="writeForm">

          <div class="line">
            <label th:for="bdno">게시글번호</label>
            <span th:text="*{bdno}"></span>
          </div>
            <div class="line">
              <label th:for="bdcg">카테고리</label>
              <span th:text="${bdTitle['__${category}__']}?:_"></span>

<!--              <input type="text" th:field="*{bdcg}" readonly="readonly">-->
<!--              <input type="text" th:text="${#strings.isEmpty(category)?-->
<!--                    bdTitle[board.bdcg]-->
<!--                    :bdTitle['__${category}__']}" readonly="readonly">-->
            </div>
            <div class="line">
              <label th:for="bdtitle">제목</label>
              <span th:text="*{bdtitle}"></span>
            </div>

<!--            <div class="line">-->
<!--              <label>조회수</label>-->
<!--              <input type="text" th:field="*{bdview}" readonly="readonly">-->
<!--            </div>-->

            <div class="line">
              <label  th:for="bdcdate">작성일</label>
              <span th:text="*{#temporals.format(bdcdate,'yy/MM/dd HH:dd')}"></span>
            </div>

            <div class="line">
              <label th:for="memnickname">작성자</label>
              <span th:text="*{memnickname}"></span>
<!--              <input type="text"  readonly="readonly">-->
            </div>
            <div>
              <textarea class="textarea" name="" id="editor" th:field="*{bdcontent}"></textarea>
            </div>
          </form>
        </div>
        <div class="writeBtn_area ">
          <button type="button" id="updateBtn" class="btn btn__search">수정</button>
          <button type="button" id="deleteBtn" class="btn btn__search">삭제</button>
          <button type="button" id="listBtn" class="btn btn__search">목록</button>
        </div>
      </section>

<<<<<<< HEAD
<!--      댓글-->
      <div id="reply">
        <div class="reply__hit">
          <p>댓글</p><p class="reply__count">수</p>
        </div>
        <div class="reply__main">
          <div class="reply__form">
            <div class="reply__list">
              <div class="reply__list nickname">토모</div>
              <div class="reply__list content">완전 좋아여 사람도 별로 없음</div>
              <div class="reply__list date">22.07.08</div>
              <div class="reply__list btngrp">
                <button class="editBtn"><i class="fa-solid fa-pen-to-square"></i></button>
                <button class="delBtn"><i class="fa-solid fa-x"></i></button>
              </div>
            </div>
            <div class="reply__edit">
              <textarea class="reply__edit toolbox" rows="10"></textarea>
              <div class="reply__edit btngrp">
                <button id="editBtn">수정</button>
                <button id="cancelBtn">취소</button>
              </div>
            </div>
          </div>
          <form id="addForm" method="post" class="reply__write">
            <div class="reply__write content">
              <textarea id="rpComment" class="reply__write toolbox" rows="10"></textarea>
            </div>
            <div class="reply__write btngrp">
              <button id="saveBtn">등록</button>
              <button id="notSaveBtn">취소</button>
            </div>
          </form>
        </div>
      </div>
      </div>
=======

>>>>>>> 464db786fbfff9c69b2299aef1ffe1eb0c3591ca

    </main>

    <!-- footer -->
    <footer id="footer">
      <div class="inner">
        <h2>Heal-lo</h2>
        <ul>
          <li>상호명: heal-lo</li>
          <li>대표: 1팀</li>
          <li>주소: 울산광역시 남구 신정동</li>
          <li>이메일: ulsanheallo@naver.com</li><br>
          <li>Copyright 2022 헬로. All Rights Reserved.</li>
        </ul>
      </div>
    </footer>
    </div>
  <script src="../../static/resource/js/editor/ckeditor.js" th:src="@{/resource/js/editor/ckeditor.js}"></script>

  <script>

    //수정이동
    const $updateBtn = document.getElementById('updateBtn');
    $updateBtn.addEventListener('click', evt=>{
      const bdno = document.getElementById('detailForm').bdno.value;
      const url = `/boards/${bdno}/edit`;
      location.href = url;
    });

    //삭제
    const $deleteBtn = document.getElementById('deleteBtn');
    $deleteBtn.addEventListener('click', evt=>{
      if(confirm('삭제하시겠습니까?')){
        const bdno = document.getElementById('detailForm').bdno.value;
        const url = `/boards/${bdno}/del`;
        location.href = url;
      }
    });

    //목록
     const $listBtn = document.getElementById('listBtn');
     $listBtn.addEventListener('click', evt=>{
      location.href = '/boards?category=';
     });



    // 에디터 툴
    ClassicEditor
		.create( document.querySelector( '#editor' ), {
      plugin:['ListStyle','Markdown','MediaEmbed','MediaEmbedToolbar'],
			toolbar: {
				items: [
					'heading',
					'|',
					'underline',
					'bold',
					'italic',
					'link',
					'bulletedList',
					'numberedList',
					'todoList',
					'|',
					'outdent',
					'indent',
					'|',
					'imageInsert',
					'imageUpload',
					'blockQuote',
					'insertTable',
					'mediaEmbed',
					'markdown',
					'undo',
					'redo',
					'|',
					'highlight',
					'fontFamily',
					'fontColor',
					'fontBackgroundColor',
					'fontSize',
					'|',
					'htmlEmbed',
					'specialCharacters'
				]
			},
			language: 'en',
			image: {
				toolbar: [
					'imageTextAlternative',
					'imageStyle:full',
					'imageStyle:side'
				]
			},
			table: {
				contentToolbar: [
					'tableColumn',
					'tableRow',
					'mergeTableCells',
					'tableCellProperties',
					'tableProperties'
				]
			},
		})
		.then( editor => {
			window.editor = editor;
			editor.isReadOnly = true;  //읽기모드적용
		} )
		.catch( error => {
			console.error( error );
		} );


  </script>

</body>
</html>